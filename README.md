# 7 Wonders Scribe - Vercel + Supabase Deployment

This document explains how to deploy the 7 Wonders Scribe application using Vercel for hosting and Supabase for the database.

## Prerequisites

1. [Vercel account](https://vercel.com/)
2. [Supabase account](https://supabase.com/)
3. Node.js 18+ installed locally

## Supabase Setup

1. Create a new project on Supabase
2. Get your database connection URL from the Supabase dashboard (Settings > Database > Connection string)
3. Update the Prisma schema if needed (it's already configured for PostgreSQL)

## Frontend Deployment (Vercel)

1. Fork this repository to your GitHub account
2. Log in to your Vercel account
3. Click "New Project" and import your forked repository
4. Set the following environment variables:
   - `PUBLIC_API_URL`: The URL of your deployed backend (will be available after backend deployment)
5. Set the root directory to `frontend`
6. Deploy!

## Backend Deployment (Vercel Serverless Functions)

1. Create a new project on Vercel
2. Import the same GitHub repository
3. Set the root directory to `backend`
4. Set the following environment variables:
   - `DATABASE_URL`: Your Supabase PostgreSQL connection URL
   - `FRONTEND_URL`: Your frontend URL (e.g., https://your-app.vercel.app)
5. Deploy!

## Environment Variables

### Backend (.env.local)
```env
DATABASE_URL=your_supabase_postgresql_connection_string
FRONTEND_URL=https://your-frontend.vercel.app
```

### Frontend (.env.local)
```env
PUBLIC_API_URL=https://your-backend.vercel.app
```

## Database Migrations

After deploying to Vercel, you'll need to set up your database schema. You can do this by running Prisma commands locally with your Supabase connection string:

```bash
cd backend
npx prisma db push --accept-data-loss
```

Or use Supabase's built-in SQL editor to run the SQL commands generated by Prisma.

## Local Development

To run the application locally:

### Backend
```bash
cd backend
bun install
bun run dev
```

### Frontend
```bash
cd frontend
npm install
npm run dev
```